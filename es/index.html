<!DOCTYPE html>
    <html lang="es" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests; default-src 'self' https:; script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://assets.calendly.com https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://assets.calendly.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self' https://www.google-analytics.com https://www.googletagmanager.com https://assets.calendly.com https://calendly.com https://api.emailjs.com https://cdn.jsdelivr.net; frame-src https://assets.calendly.com https://calendly.com;">
    <meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains; preload">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <link rel="canonical" href="https://kpi99.co/es/">
    <title>KPI99 - Servicios de Ingeniería de Rendimiento y Capacidad Empresarial</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="../favicon.png?v=2">
    <link rel="icon" type="image/png" sizes="16x16" href="../favicon.png?v=2">
    <link rel="shortcut icon" type="image/png" href="../favicon.png?v=2">
    <link rel="apple-touch-icon" sizes="180x180" href="../favicon.png?v=2">
    <link rel="icon" type="image/png" href="../favicon.png?v=2">
    <!-- Fallback options -->
    <link rel="icon" type="image/png" href="../KPI_Favicon.png?v=2">
    <link rel="icon" type="image/png" href="https://kpi99.co/favicon.png?v=2">
    
    <!-- Google Fonts - Bodoni Moda -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    
    <!-- Correo electrónicoJS -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js" onload="window.emailjsScriptLoaded = true;" onerror="console.error('Failed to load Correo electrónicoJS script'); window.emailjsScriptLoaded = false;"></script>
    <script type="text/javascript">
        // Initialize Correo electrónicoJS when script loads
        function initializeCorreo electrónicoJS() {
            if (typeof emailjs !== 'undefined') {
                try {
                    emailjs.init("C72iqShn4JvJqqQpb");
                    console.log('Correo electrónicoJS initialized successfully');
                    window.emailjsReady = true;
                    return true;
                } catch (error) {
                    console.error('Correo electrónicoJS initialization error:', error);
                    window.emailjsReady = false;
                    return false;
                }
            }
            return false;
        }
        
        // Try to initialize immediately
        if (initializeCorreo electrónicoJS()) {
            // Already initialized
        } else {
            // Wait for script to load
            var checkCorreo electrónicoJS = setInterval(function() {
                if (typeof emailjs !== 'undefined') {
                    clearInterval(checkCorreo electrónicoJS);
                    initializeCorreo electrónicoJS();
                }
            }, 100);
            
            // Stop checking after 10 seconds
            setTimeout(function() {
                clearInterval(checkCorreo electrónicoJS);
                if (typeof emailjs === 'undefined') {
                    console.error('Correo electrónicoJS script failed to load');
                    window.emailjsReady = false;
                } else if (!window.emailjsReady) {
                    // Try one more time
                    initializeCorreo electrónicoJS();
                }
            }, 10000);
        }
        
        // Also try on window load as a fallback
        window.addEventListener('load', function() {
            if (typeof emailjs !== 'undefined' && !window.emailjsReady) {
                initializeCorreo electrónicoJS();
            }
        });
    </script>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-M7MQY2WJ67"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-M7MQY2WJ67');
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Bodoni Moda', serif;
            line-height: 1.6;
            color: #333;
            background: #fafafa;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        nav.scrolled {
            box-shadow: 0 4px 30px rgba(0,0,0,0.15);
        }

        nav .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
        }

        nav .logo {
            display: flex;
            align-items: center;
            height: 40px;
        }

        nav .logo img {
            height: 40px;
            width: auto;
            max-width: 150px;
            object-fit: contain;
            display: block;
        }

        nav .nav-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        nav .mobile-language-toggle {
            display: none;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
            align-items: center;
        }

        nav ul li.nav-divider {
            width: 1px;
            height: 30px;
            background: #e2e8f0;
            margin: 0 15px;
            padding: 0;
            list-style: none;
        }

        .language-toggle {
            color: #334155;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            position: relative;
        }

        .language-toggle:hover {
            color: #3b82f6;
        }

        .language-toggle::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: #3b82f6;
            transition: width 0.3s;
        }

        .language-toggle:hover::after {
            width: 100%;
        }

        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #334155;
            cursor: pointer;
            padding: 5px;
        }

        @media (max-width: 768px) {
            .mobile-menu-toggle {
                display: block;
            }

            nav .nav-right {
                gap: 15px;
            }

            nav .mobile-language-toggle {
                display: block;
            }

            nav .desktop-language-toggle {
                display: none;
            }

            nav ul {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: white;
                flex-direction: column;
                padding: 20px;
                box-shadow: 0 4px 20px rgba(0,0,0,0.1);
                gap: 0;
            }

            nav ul.active {
                display: flex;
            }

            nav ul li {
                width: 100%;
                padding: 12px 0;
                border-bottom: 1px solid #e2e8f0;
            }

            nav ul li:last-child {
                border-bottom: none;
            }

            nav ul li.nav-divider {
                width: 100%;
                height: 1px;
                background: #e2e8f0;
                margin: 10px 0;
                padding: 0;
                list-style: none;
            }

            nav ul li a {
                display: block;
                width: 100%;
            }
        }

        nav ul li a {
            color: #334155;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            position: relative;
        }

        nav ul li a:hover {
            color: #3b82f6;
        }

        nav ul li a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: #3b82f6;
            transition: width 0.3s;
        }

        nav ul li a:hover::after {
            width: 100%;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, rgba(30, 58, 138, 0.7) 0%, rgba(59, 130, 246, 0.6) 100%),
                        url('../panAbstract.png');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: white;
            padding: 120px 0 80px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            z-index: 0;
        }

        header .container {
            position: relative;
            z-index: 1;
        }

        header h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 10px;
            letter-spacing: -0.02em;
            animation: fadeInUp 0.8s ease;
        }

        header .tagline {
            font-size: 1.5rem;
            font-weight: 300;
            opacity: 0.95;
            margin-top: 10px;
            animation: fadeInUp 0.8s ease 0.2s both;
        }

        .consultation-button-header {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            text-decoration: none;
            font-size: 0.95rem;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            margin-top: 30px;
            backdrop-filter: blur(10px);
        }

        .consultation-button-header:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .consultation-button-header svg {
            width: 18px;
            height: 18px;
            fill: currentColor;
        }

        /* Calendly Overlay */
        .calendly-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10000;
            display: none;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        .calendly-overlay.active {
            display: flex;
        }

        .calendly-container {
            position: relative;
            width: 90%;
            max-width: 900px;
            height: 90%;
            max-height: 700px;
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .calendly-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #f1f5f9;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.5rem;
            color: #334155;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            z-index: 10001;
        }

        .calendly-close:hover {
            background: #e2e8f0;
            transform: scale(1.1);
        }

        .calendly-inline-widget {
            width: 100%;
            height: 100%;
            min-height: 600px;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Section Styling */
        section {
            padding: 80px 0;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }

        section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        section h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: #1e3a8a;
            font-weight: 700;
            position: relative;
            display: inline-block;
        }

        section h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, #3b82f6, #60a5fa);
            border-radius: 2px;
        }

        section h3 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: #2563eb;
            font-weight: 600;
        }

        /* Who This Is For */
        .who-section {
            background: white;
        }

        .impact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .impact-item {
            background: #f8fafc;
            padding: 30px;
            border-radius: 12px;
            border-left: 4px solid #3b82f6;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .impact-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.1), transparent);
            transition: left 0.5s;
        }

        .impact-item:hover::before {
            left: 100%;
        }

        .impact-item:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.2);
            border-left-color: #60a5fa;
        }

        .impact-item h4 {
            font-size: 1.3rem;
            color: #1e3a8a;
            margin-bottom: 10px;
        }

        /* What Makes This Different */
        .different-section {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        }

        .approach-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .approach-item {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            border: 2px solid transparent;
        }

        .approach-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.15);
            border-color: #3b82f6;
        }

        .approach-item h4 {
            font-size: 1.2rem;
            color: #2563eb;
            margin-bottom: 10px;
            font-weight: 600;
        }

        /* Servicios */
        .services-section {
            background: white;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 40px;
            margin-top: 50px;
        }

        .service-card {
            background: white;
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border-top: 5px solid;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .service-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.03), rgba(139, 92, 246, 0.03));
            opacity: 0;
            transition: opacity 0.3s;
        }

        .service-card:hover::after {
            opacity: 1;
        }

        .service-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }


        .service-card.health {
            border-top-color: #10b981;
        }

        .service-card.optimization {
            border-top-color: #3b82f6;
        }

        .service-card.retainer {
            border-top-color: #8b5cf6;
        }

        .service-card.incident {
            border-top-color: #ef4444;
        }

        .service-icon {
            display: none;
        }

        .service-card h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #1e3a8a;
        }

        .service-type {
            display: inline-block;
            padding: 6px 12px;
            background: #e0f2fe;
            color: #0369a1;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .service-duration {
            color: #64748b;
            font-size: 0.95rem;
            margin-bottom: 5px;
        }

        .service-investment {
            font-size: 1.3rem;
            font-weight: 700;
            color: #1e3a8a;
            margin-bottom: 25px;
        }

        .service-card h4 {
            font-size: 1.1rem;
            color: #334155;
            margin-top: 25px;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .service-card ul {
            list-style: none;
            margin-bottom: 20px;
        }

        .service-card ul li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            color: #475569;
        }

        .service-card ul li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: #10b981;
            font-weight: bold;
        }

        .service-card .best-for {
            background: #f8fafc;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .service-card .best-for strong {
            color: #1e3a8a;
        }

        /* Por Qué los Clientes Nos Contratan */
        .why-section {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
        }

        .why-section h2 {
            color: white;
            text-align: center;
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .benefit-item {
            text-align: center;
            padding: 30px;
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            border: 2px solid transparent;
        }

        .benefit-item:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-5px) scale(1.05);
            border-color: rgba(255,255,255,0.3);
        }

        .benefit-item .check {
            transition: transform 0.3s;
        }

        .benefit-item:hover .check {
            transform: scale(1.3) rotate(360deg);
        }

        .benefit-item .check {
            font-size: 2rem;
            margin-bottom: 15px;
            width: 40px;
            height: 40px;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            font-weight: bold;
        }

        .benefit-item .check::before {
            content: "✓";
        }

        .benefit-item h4 {
            font-size: 1.2rem;
            color: white;
            font-weight: 600;
        }

        /* Contact Form Section */
        .contact-section {
            background: linear-gradient(135deg, #f8fafc 0%, #e0f2fe 100%);
            padding: 80px 0;
        }

        .contact-section h2 {
            text-align: center;
            margin-bottom: 50px;
        }

        .contact-form-container {
            max-width: 700px;
            margin: 0 auto;
            background: white;
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .contact-form-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 50px rgba(0,0,0,0.15);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #334155;
            font-weight: 600;
            font-size: 0.95rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1rem;
            font-family: inherit;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: #f8fafc;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #3b82f6;
            background: white;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 150px;
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: #94a3b8;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 640px) {
            .form-row {
                grid-template-columns: 1fr;
            }
        }

        .submit-button {
            width: 100%;
            padding: 16px 32px;
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
            margin-top: 10px;
        }

        .submit-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
            background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
        }

        .submit-button:active {
            transform: translateY(0);
        }

        .submit-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .form-message {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-weight: 500;
            display: none;
            animation: fadeInUp 0.5s ease;
        }

        .form-message.success {
            background: #d1fae5;
            color: #065f46;
            border: 2px solid #10b981;
            display: block;
        }

        .form-message.error {
            background: #fee2e2;
            color: #991b1b;
            border: 2px solid #ef4444;
            display: block;
        }

        .required {
            color: #ef4444;
        }

        /* PDF Download Button */
        .pdf-download-button {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
            padding: 14px 28px;
            border-radius: 10px;
            text-decoration: none;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(30, 58, 138, 0.3);
            margin: 20px 0 40px;
            border: none;
            cursor: pointer;
        }

        .pdf-download-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(30, 58, 138, 0.4);
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
        }

        .pdf-download-button svg {
            width: 20px;
            height: 20px;
            fill: currentColor;
        }

        .services-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .services-header {
                flex-direction: column;
                align-items: flex-start;
            }
        }

        /* WhatsApp Button */
        .whatsapp-button {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            background: #25D366;
            color: white;
            padding: 18px 40px;
            border-radius: 50px;
            text-decoration: none;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
            margin: 20px auto 0;
            border: none;
            cursor: pointer;
        }

        .whatsapp-button:hover {
            background: #20BA5A;
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(37, 211, 102, 0.4);
        }

        .whatsapp-button svg {
            width: 24px;
            height: 24px;
            fill: currentColor;
        }

        .whatsapp-divider {
            text-align: center;
            margin: 40px 0;
            position: relative;
        }

        .whatsapp-divider::before,
        .whatsapp-divider::after {
            content: '';
            position: absolute;
            top: 50%;
            width: 40%;
            height: 1px;
            background: #e2e8f0;
        }

        .whatsapp-divider::before {
            left: 0;
        }

        .whatsapp-divider::after {
            right: 0;
        }

        .whatsapp-divider span {
            background: linear-gradient(135deg, #f8fafc 0%, #e0f2fe 100%);
            padding: 0 20px;
            color: #64748b;
            position: relative;
        }

        /* Floating WhatsApp Button */
        .whatsapp-float {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: #25D366;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
            z-index: 999;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            animation: pulse 2s infinite;
        }

        .whatsapp-float:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(37, 211, 102, 0.5);
        }

        .whatsapp-float svg {
            width: 32px;
            height: 32px;
            fill: white;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
            }
            50% {
                box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4), 0 0 0 10px rgba(37, 211, 102, 0.1);
            }
            100% {
                box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
            }
        }

        @media (max-width: 768px) {
            .whatsapp-float {
                bottom: 20px;
                right: 20px;
                width: 55px;
                height: 55px;
            }

            .whatsapp-float svg {
                width: 28px;
                height: 28px;
            }
        }

        /* AI Chat Widget */
        .ai-chat-widget {
            position: fixed;
            bottom: 110px;
            right: 30px;
            z-index: 1000;
            font-family: inherit;
        }

        .ai-chat-button {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(59, 130, 246, 0.4);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: none;
            position: relative;
        }

        .ai-chat-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(59, 130, 246, 0.5);
        }

        .ai-chat-button svg {
            width: 28px;
            height: 28px;
            fill: white;
        }

        .ai-chat-button .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            width: 20px;
            height: 20px;
            background: #ef4444;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            color: white;
            font-weight: bold;
            border: 2px solid white;
        }

        .ai-chat-container {
            position: absolute;
            bottom: 80px;
            right: 0;
            width: 380px;
            height: 500px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            display: none;
            flex-direction: column;
            overflow: hidden;
            animation: slideUp 0.3s ease;
        }

        .ai-chat-container.active {
            display: flex;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .ai-chat-header {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .ai-chat-header h3 {
            margin: 0;
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .ai-chat-header .status {
            font-size: 0.85rem;
            opacity: 0.9;
        }

        .ai-chat-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.2s;
        }

        .ai-chat-close:hover {
            background: rgba(255,255,255,0.2);
        }

        .ai-chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #f8fafc;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .ai-chat-message {
            display: flex;
            gap: 10px;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .ai-chat-message.user {
            flex-direction: row-reverse;
        }

        .ai-chat-message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            font-weight: bold;
            color: white;
            font-size: 0.9rem;
        }

        .ai-chat-message.ai .ai-chat-message-avatar {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
        }

        .ai-chat-message.user .ai-chat-message-avatar {
            background: linear-gradient(135deg, #64748b 0%, #475569 100%);
        }

        .ai-chat-message-content {
            max-width: 75%;
            padding: 12px 16px;
            border-radius: 18px;
            word-wrap: break-word;
            line-height: 1.4;
        }

        .ai-chat-message.ai .ai-chat-message-content {
            background: white;
            color: #334155;
            border-bottom-left-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .ai-chat-message.user .ai-chat-message-content {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .ai-chat-input-container {
            padding: 15px;
            background: white;
            border-top: 1px solid #e2e8f0;
            display: flex;
            gap: 10px;
        }

        .ai-chat-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 25px;
            font-size: 0.95rem;
            font-family: inherit;
            outline: none;
            transition: border-color 0.2s;
        }

        .ai-chat-input:focus {
            border-color: #3b82f6;
        }

        .ai-chat-send {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            flex-shrink: 0;
        }

        .ai-chat-send:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .ai-chat-send:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .ai-chat-send svg {
            width: 20px;
            height: 20px;
            fill: currentColor;
        }

        .ai-typing-indicator {
            display: flex;
            gap: 5px;
            padding: 12px 16px;
            background: white;
            border-radius: 18px;
            border-bottom-left-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .ai-typing-indicator span {
            width: 8px;
            height: 8px;
            background: #94a3b8;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .ai-typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .ai-typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.7;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }

        @media (max-width: 768px) {
            /* Navigation */
            nav .logo img {
                height: 32px;
                max-width: 120px;
            }

            nav .container {
                padding: 12px 15px;
            }

            nav ul {
                gap: 15px;
                font-size: 0.9rem;
            }

            /* Header */
            header {
                padding: 100px 0 60px;
                background-attachment: scroll;
            }

            header .tagline {
                font-size: 1.1rem;
                padding: 0 20px;
            }

            .consultation-button-header {
                padding: 10px 20px;
                font-size: 0.85rem;
                margin-top: 20px;
            }

            /* Typography */
            section h2 {
                font-size: 1.8rem;
                margin-bottom: 15px;
            }

            section h3 {
                font-size: 1.4rem;
            }

            .intro-text {
                font-size: 1rem;
                padding: 0 10px;
            }

            /* Sections */
            section {
                padding: 50px 0;
            }

            /* Grids */
            .impact-grid,
            .approach-grid,
            .tech-grid,
            .process-steps {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .services-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .benefits-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            /* Cards */
            .service-card {
                padding: 25px;
            }

            .service-card h3 {
                font-size: 1.3rem;
            }

            .tech-card,
            .approach-item,
            .impact-item {
                padding: 20px;
            }

            /* Process Steps */
            .process-step {
                padding: 20px;
            }

            /* Contact Form */
            .contact-form-container {
                padding: 30px 20px;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            /* Buttons */
            .whatsapp-button {
                padding: 14px 30px;
                font-size: 1rem;
                width: 100%;
                max-width: 100%;
            }

            .pdf-download-button {
                padding: 12px 24px;
                font-size: 0.9rem;
                width: 100%;
                justify-content: center;
            }

            /* Expertise Tags */
            .expertise-tags {
                gap: 10px;
            }

            .expertise-tag {
                padding: 8px 16px;
                font-size: 0.85rem;
            }

            /* AI Chat Widget */
            .ai-chat-widget {
                bottom: 90px;
                right: 20px;
            }

            .ai-chat-button {
                width: 55px;
                height: 55px;
            }

            .ai-chat-button svg {
                width: 24px;
                height: 24px;
            }

            .ai-chat-container {
                width: calc(100vw - 40px);
                height: calc(100vh - 100px);
                max-height: 500px;
                right: 0;
                left: auto;
            }

            /* WhatsApp Float */
            .whatsapp-float {
                bottom: 20px;
                right: 20px;
                width: 55px;
                height: 55px;
            }

            .whatsapp-float svg {
                width: 28px;
                height: 28px;
            }

            /* Footer */
            footer {
                padding: 30px 0;
                font-size: 0.9rem;
            }

            /* Calendly */
            .calendly-container {
                width: 95%;
                height: 95%;
                padding: 15px;
            }
        }

        @media (max-width: 480px) {
            /* Extra small devices */
            header {
                padding: 80px 0 50px;
            }

            header .tagline {
                font-size: 1rem;
            }

            .consultation-button-header {
                padding: 10px 18px;
                font-size: 0.8rem;
            }

            section h2 {
                font-size: 1.6rem;
            }

            nav ul {
                gap: 10px;
                font-size: 0.85rem;
            }

            .service-card {
                padding: 20px;
            }

            .contact-form-container {
                padding: 25px 15px;
            }

            .container {
                padding: 0 15px;
            }
        }

        /* Footer */
        footer {
            background: #0f172a;
            color: white;
            padding: 40px 0;
            text-align: center;
        }

        /* Responsive */
        @media (max-width: 768px) {
            /* Navigation */
            nav .logo img {
                height: 32px;
                max-width: 120px;
            }

            nav .container {
                padding: 12px 15px;
            }

            nav ul {
                display: none;
            }

            /* Header */
            header {
                padding: 100px 0 60px;
                background-attachment: scroll;
            }

            header .tagline {
                font-size: 1.1rem;
                padding: 0 20px;
            }

            .consultation-button-header {
                padding: 10px 20px;
                font-size: 0.85rem;
                margin-top: 20px;
            }

            /* Typography */
            section h2 {
                font-size: 1.8rem;
                margin-bottom: 15px;
            }

            section h3 {
                font-size: 1.4rem;
            }

            .intro-text {
                font-size: 1rem;
                padding: 0 10px;
            }

            /* Sections */
            section {
                padding: 50px 0;
            }

            /* Grids */
            .impact-grid,
            .approach-grid,
            .tech-grid,
            .process-steps {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .services-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .benefits-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            /* Cards */
            .service-card {
                padding: 25px;
            }

            .service-card h3 {
                font-size: 1.3rem;
            }

            .tech-card,
            .approach-item,
            .impact-item {
                padding: 20px;
            }

            /* Process Steps */
            .process-step {
                padding: 20px;
            }

            /* Contact Form */
            .contact-form-container {
                padding: 30px 20px;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            /* Buttons */
            .whatsapp-button {
                padding: 14px 30px;
                font-size: 1rem;
                width: 100%;
                max-width: 100%;
            }

            .pdf-download-button {
                padding: 12px 24px;
                font-size: 0.9rem;
                width: 100%;
                justify-content: center;
            }

            /* Expertise Tags */
            .expertise-tags {
                gap: 10px;
            }

            .expertise-tag {
                padding: 8px 16px;
                font-size: 0.85rem;
            }

            /* AI Chat Widget */
            .ai-chat-widget {
                bottom: 90px;
                right: 20px;
            }

            .ai-chat-button {
                width: 55px;
                height: 55px;
            }

            .ai-chat-button svg {
                width: 24px;
                height: 24px;
            }

            .ai-chat-container {
                width: calc(100vw - 40px);
                height: calc(100vh - 100px);
                max-height: 500px;
                right: 0;
                left: auto;
            }

            /* WhatsApp Float */
            .whatsapp-float {
                bottom: 20px;
                right: 20px;
                width: 55px;
                height: 55px;
            }

            .whatsapp-float svg {
                width: 28px;
                height: 28px;
            }

            /* Footer */
            footer {
                padding: 30px 0;
                font-size: 0.9rem;
            }

            /* Calendly */
            .calendly-container {
                width: 95%;
                height: 95%;
                padding: 15px;
            }
        }

        @media (max-width: 480px) {
            /* Extra small devices */
            header {
                padding: 80px 0 50px;
            }

            header .tagline {
                font-size: 1rem;
            }

            .consultation-button-header {
                padding: 10px 18px;
                font-size: 0.8rem;
            }

            section h2 {
                font-size: 1.6rem;
            }

            nav ul {
                gap: 10px;
                font-size: 0.85rem;
            }

            .service-card {
                padding: 20px;
            }

            .contact-form-container {
                padding: 25px 15px;
            }

            .container {
                padding: 0 15px;
            }

            /* Touch-friendly targets */
            button,
            .submit-button,
            .whatsapp-button,
            .pdf-download-button,
            .consultation-button-header {
                min-height: 44px;
                min-width: 44px;
            }

            /* Better spacing for small screens */
            .services-header {
                gap: 15px;
            }

            .whatsapp-divider {
                margin: 30px 0;
            }
        }

        /* Touch device optimizations */
        @media (hover: none) and (pointer: coarse) {
            /* Remove hover effects on touch devices */
            .service-card:hover,
            .impact-item:hover,
            .approach-item:hover,
            .tech-card:hover {
                transform: none;
            }

            /* Larger touch targets */
            nav ul li a {
                padding: 10px 0;
            }
        }

        /* Scroll animations */
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .fade-in {
            animation: fadeInUp 0.6s ease forwards;
        }

        .slide-in-left {
            animation: slideInLeft 0.6s ease forwards;
        }

        .slide-in-right {
            animation: slideInRight 0.6s ease forwards;
        }

        .intro-text {
            font-size: 1.2rem;
            color: #475569;
            margin-top: 20px;
            line-height: 1.8;
        }

        /* Technical Details Section */
        .technical-section {
            background: white;
        }

        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .tech-card {
            background: #f8fafc;
            padding: 30px;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }

        .tech-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
            border-color: #3b82f6;
            background: white;
        }

        .tech-card h4 {
            font-size: 1.3rem;
            color: #1e3a8a;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .tech-card ul {
            list-style: none;
            margin-top: 15px;
        }

        .tech-card ul li {
            padding: 6px 0;
            padding-left: 25px;
            position: relative;
            color: #475569;
        }

        .tech-card ul li:before {
            content: "•";
            position: absolute;
            left: 0;
            color: #3b82f6;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .methodology-section {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
        }

        .process-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }

        .process-step {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            position: relative;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }

        .process-step:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .process-step .step-number {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: #3b82f6;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: 700;
            margin-bottom: 15px;
            transition: all 0.3s;
        }

        .process-step:hover .step-number {
            transform: scale(1.2) rotate(360deg);
            background: #60a5fa;
        }

        .process-step h4 {
            font-size: 1.2rem;
            color: #1e3a8a;
            margin-bottom: 10px;
        }

        .process-step p {
            color: #64748b;
            font-size: 0.95rem;
        }

        .expertise-section {
            background: white;
        }

        .expertise-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 30px;
        }

        .expertise-tag {
            background: #e0f2fe;
            color: #0369a1;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            display: inline-block;
        }

        .expertise-tag:hover {
            background: #3b82f6;
            color: white;
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <p class="tagline">Rendimiento. Escala. Confiabilidad — Diseñado.</p>
            <a href="#" class="consultation-button-header" id="consultationButtonHeader">
                <svg viewBox="0 0 24 24" xmlns="https://www.w3.org/2000/svg">
                    <path d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zm0-12H5V6h14v2zm-7 5h5v5h-5v-5z"/>
                </svg>
                <span>Reservar Consulta Gratuita de 30 Minutos</span>
            </a>
        </div>
    </header>

    <section class="who-section">
        <div class="container">
            <h2>Equipo de Ingeniería de Rendimiento de Grado Empresarial</h2>
            <p class="intro-text">
                KPI99 es una consultoría de ingeniería de rendimiento y capacidad que apoya sistemas de misión crítica en entornos críticos de escala.
            </p>
            <p class="intro-text" style="margin-top: 20px;">
                Nuestro equipo aplica metodologías empresariales probadas para identificar límites de rendimiento, reducir la latencia, prevenir interrupciones y mejorar la eficiencia de la infraestructura antes de que los problemas afecten a los clientes o reguladores.
            </p>
            <div class="impact-grid" style="margin-top: 40px;">
                <div class="impact-item">
                    <h4>Ingresos</h4>
                </div>
                <div class="impact-item">
                    <h4>Cumplimiento regulatorio</h4>
                </div>
                <div class="impact-item">
                    <h4>Confianza del cliente</h4>
                </div>
                <div class="impact-item">
                    <h4>Gasto en nube e infraestructura</h4>
                </div>
            </div>
        </div>
    </section>

    <section class="different-section">
        <div class="container">
            <h2>Nuestra Experiencia</h2>
            <p class="intro-text" style="color: #334155;">
                Nuestro equipo aporta una experiencia profunda apoyando plataformas reguladas a gran escala donde el rendimiento, la confiabilidad y la predictibilidad son críticos para el negocio.
            </p>
            <p class="intro-text" style="color: #334155; margin-top: 20px;">
                Hemos trabajado en entornos que incluyen servicios financieros, plataformas de datos grandes, arquitecturas orientadas a eventos y sistemas empresariales basados en la nube que operan bajo requisitos estrictos de SLA.
            </p>
        </div>
    </section>

    <section class="methodology-section">
        <div class="container">
            <h2>Nuestro Enfoque</h2>
            <p class="intro-text" style="color: #334155;">
                KPI99 sigue una metodología de ingeniería de rendimiento estructurada y basada en evidencia, refinada en entornos empresariales grandes.
            </p>
            <p class="intro-text" style="color: #334155; margin-top: 20px;">
                Cada compromiso combina análisis a nivel de aplicación, modelado de saturación de infraestructura y pronóstico de capacidad para proporcionar información clara y accionable para las partes interesadas técnicas y ejecutivas.
            </p>
            <div class="approach-grid" style="margin-top: 40px;">
                <div class="approach-item">
                    <h4>Identificando los verdaderos límites del sistema</h4>
                </div>
                <div class="approach-item">
                    <h4>Cuantificando el riesgo bajo carga máxima</h4>
                </div>
                <div class="approach-item">
                    <h4>Reduciendo el desperdicio de infraestructura</h4>
                </div>
                <div class="approach-item">
                    <h4>Asegurando una escala predecible</h4>
                </div>
            </div>
        </div>
    </section>

    <section class="methodology-section">
        <div class="container">
            <h2>Metodología y Proceso</h2>
            <p class="intro-text" style="color: #334155;">
                Un enfoque sistemático y basado en datos de la ingeniería de rendimiento que produce resultados medibles.
            </p>
            <div class="process-steps">
                <div class="process-step">
                    <div class="step-number">1</div>
                    <h4>Descubrimiento y Evaluación</h4>
                    <p>Análisis integral del sistema utilizando herramientas APM, perfilado y pruebas de carga para establecer métricas de rendimiento de referencia e identificar limitaciones.</p>
                </div>
                <div class="process-step">
                    <div class="step-number">2</div>
                    <h4>Análisis de Cuellos de Botella</h4>
                    <p>Investigación profunda del código de la aplicación, ajuste de JVM, consultas de base de datos, E/S de red y configuración de infraestructura para identificar las causas raíz.</p>
                </div>
                <div class="process-step">
                    <div class="step-number">3</div>
                    <h4>Modelado de Capacidad</h4>
                    <p>Modelado matemático de la capacidad del sistema bajo varios escenarios de carga, incluyendo tráfico máximo, proyecciones de crecimiento y modos de falla.</p>
                </div>
                <div class="process-step">
                    <div class="step-number">4</div>
                    <h4>Optimización y Ajuste</h4>
                    <p>Mejoras dirigidas al código, configuración y arquitectura con validación mediante pruebas de carga controladas y análisis de regresión de rendimiento.</p>
                </div>
                <div class="process-step">
                    <div class="step-number">5</div>
                    <h4>Validación y Monitoreo</h4>
                    <p>Validación de producción, establecimiento de SLA/SLO de rendimiento e implementación de paneles de monitoreo para visibilidad continua.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="technical-section">
        <div class="container">
            <h2>Experiencia Técnica y Herramientas</h2>
            <p class="intro-text">
                Experiencia profunda en toda la pila de ingeniería de rendimiento, desde el código de la aplicación hasta la infraestructura.
            </p>
            <div class="tech-grid">
                <div class="tech-card">
                    <h4>Rendimiento de Aplicaciones</h4>
                    <ul>
                        <li>Ajuste de JVM (GC, heap, hilos)</li>
                        <li>Detección y análisis de fugas de memoria</li>
                        <li>Análisis de volcado de hilos y seguimiento de pila</li>
                        <li>Perfilado de código (JProfiler, YourKit, async-profiler)</li>
                        <li>Identificación de cuellos de botella a nivel de aplicación</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>Infraestructura y Sistemas</h4>
                    <ul>
                        <li>Análisis de E/S de CPU, memoria y disco</li>
                        <li>Optimización de latencia de red y rendimiento</li>
                        <li>Rendimiento de orquestación de contenedores (K8s)</li>
                        <li>Optimización de costos de infraestructura en la nube</li>
                        <li>Diseño y ajuste de políticas de autoescalado</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>Pruebas de Carga y Capacidad</h4>
                    <ul>
                        <li>Pruebas de carga distribuidas (JMeter, Gatling, k6)</li>
                        <li>Análisis y modelado de patrones de tráfico</li>
                        <li>Identificación de puntos de saturación</li>
                        <li>Planificación y pronóstico de capacidad</li>
                        <li>Ingeniería del caos y pruebas de falla</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>Observabilidad y Monitoreo</h4>
                    <ul>
                        <li>Herramientas APM (New Relic, Datadog, Dynatrace)</li>
                        <li>Análisis de métricas, registros y seguimientos</li>
                        <li>Diseño de paneles de rendimiento</li>
                        <li>Definición y seguimiento de SLA/SLO</li>
                        <li>Estrategia de alertas y ajuste de umbrales</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>Sistemas Distribuidos</h4>
                    <ul>
                        <li>Optimización de rendimiento de microservicios</li>
                        <li>Ajuste de cola de mensajes (Kafka, RabbitMQ)</li>
                        <li>Optimización de consultas de base de datos</li>
                        <li>Estrategia e implementación de caché</li>
                        <li>Rendimiento de malla de servicios (Istio, Linkerd)</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>Plataformas en la Nube</h4>
                    <ul>
                        <li>Optimización de rendimiento de AWS, GCP, Azure</li>
                        <li>Ajuste de funciones sin servidor (Lambda, Cloud Functions)</li>
                        <li>Optimización de CDN y computación perimetral</li>
                        <li>Optimización de latencia multi-región</li>
                        <li>Análisis y optimización de costos en la nube</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section class="expertise-section">
        <div class="container">
            <h2>Experiencia en la Industria</h2>
            <p class="intro-text">
                Experiencia probada en industrias donde el rendimiento impacta directamente los resultados comerciales.
            </p>
            <div class="expertise-tags">
                <span class="expertise-tag">Servicios Financieros</span>
                <span class="expertise-tag">Comercio Electrónico y Retail</span>
                <span class="expertise-tag">Sistemas de Salud</span>
                <span class="expertise-tag">Plataformas SaaS</span>
                <span class="expertise-tag">Juegos y Medios</span>
                <span class="expertise-tag">Telecomunicaciones</span>
                <span class="expertise-tag">Industrias Reguladas</span>
                <span class="expertise-tag">API de Alto Tráfico</span>
                <span class="expertise-tag">Sistemas en Tiempo Real</span>
                <span class="expertise-tag">Canalizaciones de Procesamiento de Datos</span>
            </div>
        </div>
    </section>

    <section class="services-section">
        <div class="container">
            <div class="services-header">
                <h2>Paquetes de Servicios</h2>
                <a href="../KPI99_Servicios.pdf" class="pdf-download-button" download>
                    <svg viewBox="0 0 24 24" xmlns="https://www.w3.org/2000/svg">
                        <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                    </svg>
                    Descargar PDF de Servicios
                </a>
            </div>
            
            <div class="services-grid">
                <!-- Auditoría de Salud de Rendimiento -->
                <div class="service-card health">
                    <h3>Auditoría de Salud de Rendimiento</h3>
                    <span class="service-type">Compromiso Inicial | Bajo Riesgo | Alto Conocimiento</span>
                    <div class="service-duration">Duración: 2–3 semanas</div>
                    <div class="service-investment">Inversión: $10,000</div>
                    
                    <h4>Qué Resuelve Esto</h4>
                    <ul>
                        <li>Latencia inexplicable</li>
                        <li>Incertidumbre de capacidad</li>
                        <li>Uso ineficiente de infraestructura</li>
                        <li>Falta de visibilidad de rendimiento</li>
                    </ul>

                    <h4>Alcance</h4>
                    <ul>
                        <li>Análisis de GC, heap, hilos y memoria de JVM</li>
                        <li>Revisión de utilización de CPU, memoria, disco y red</li>
                        <li>Evaluación de pruebas de carga y perfil de tráfico</li>
                        <li>Identificación de cuellos de botella (aplicación + infraestructura)</li>
                        <li>Análisis de ineficiencia de costos y desperdicio</li>
                        <li>Revisión de configuración de herramientas APM</li>
                        <li>Establecimiento de línea base de rendimiento</li>
                    </ul>

                    <h4>Entregables</h4>
                    <ul>
                        <li>Resumen ejecutivo (no técnico)</li>
                        <li>Hallazgos detallados de rendimiento</li>
                        <li>Límites del sistema identificados</li>
                        <li>Hoja de ruta de remediación priorizada</li>
                    </ul>

                    <div class="best-for">
                        <strong>Mejor Para:</strong> Plataformas nuevas, Sistemas heredados, Entornos pre-escala o pre-migración
                    </div>
                </div>

                <!-- Optimización de Escala y Latencia -->
                <div class="service-card optimization">
                    <h3>Optimización de Escala y Latencia</h3>
                    <span class="service-type">Compromiso Principal | Alto Impacto</span>
                    <div class="service-duration">Duración: 4–8 semanas</div>
                    <div class="service-investment">Inversión: $30,000–$50,000</div>
                    
                    <h4>Qué Resuelve Esto</h4>
                    <ul>
                        <li>Sistemas que fallan bajo carga máxima</li>
                        <li>Latencia que impacta los SLA</li>
                        <li>Infraestructura sobredimensionada o subescalada</li>
                        <li>Riesgo de rendimiento durante el crecimiento</li>
                    </ul>

                    <h4>Alcance</h4>
                    <ul>
                        <li>Modelado de rendimiento y saturación</li>
                        <li>Análisis de cuellos de botella de sistemas distribuidos</li>
                        <li>Optimización de JVM, mensajería y canalización de datos</li>
                        <li>Ajuste de autoescalado y capacidad</li>
                        <li>Endurecimiento de rendimiento SLA / SLO</li>
                        <li>Mejoras de rendimiento a nivel de código</li>
                        <li>Optimización de consultas de base de datos y grupo de conexiones</li>
                        <li>Validación de pruebas de carga y prevención de regresión</li>
                    </ul>

                    <h4>Entregables</h4>
                    <ul>
                        <li>Configuración del sistema optimizada</li>
                        <li>Modelos de capacidad y umbrales de escalado</li>
                        <li>Plan de mitigación de riesgos de rendimiento</li>
                        <li>Resumen de impacto a nivel ejecutivo</li>
                    </ul>

                    <div class="best-for">
                        <strong>Mejor Para:</strong> Sistemas de alto crecimiento, Entornos regulados, Plataformas orientadas al cliente, Iniciativas de control de costos en la nube
                    </div>
                </div>

                <!-- Retención de Rendimiento Ejecutivo -->
                <div class="service-card retainer">
                    <h3>Retención de Rendimiento Ejecutivo</h3>
                    <span class="service-type">Asesoría Continua | Resultados Predecibles</span>
                    <div class="service-duration">Duración: Mensual</div>
                    <div class="service-investment">Inversión: $6,000–$12,000 por mes</div>
                    
                    <h4>Qué Resuelve Esto</h4>
                    <ul>
                        <li>Incidentes de rendimiento recurrentes</li>
                        <li>Falta de pronóstico de capacidad</li>
                        <li>Lucha contra incendios reactiva</li>
                        <li>Sin autoridad de rendimiento senior</li>
                    </ul>

                    <h4>Alcance</h4>
                    <ul>
                        <li>Revisión mensual de rendimiento y capacidad</li>
                        <li>Pronóstico para crecimiento y eventos máximos</li>
                        <li>Supervisión de eficiencia de costos en la nube</li>
                        <li>Asesoría de escalamiento de incidentes</li>
                        <li>Orientación de arquitectura y preparación para escala</li>
                        <li>Prevención de regresión de rendimiento</li>
                        <li>Capacitación del equipo y transferencia de conocimiento</li>
                        <li>Planificación de hoja de ruta estratégica de rendimiento</li>
                    </ul>

                    <h4>Entregables</h4>
                    <ul>
                        <li>Informe mensual de rendimiento</li>
                        <li>Perspectiva de riesgo y capacidad</li>
                        <li>Recomendaciones ejecutivas</li>
                        <li>Orientación continua de optimización</li>
                    </ul>

                    <div class="best-for">
                        <strong>Mejor Para:</strong> Equipos de liderazgo, Plataformas con SLA estrictos, Sistemas escalando regional o globalmente
                    </div>
                </div>

                <!-- Soporte de Incidentes y Emergencias -->
                <div class="service-card incident">
                    <h3>Soporte de Incidentes y Emergencias</h3>
                    <span class="service-type">Bajo Demanda | Crítico en Tiempo</span>
                    <div class="service-duration">Inversión: $350–$500 por hora</div>
                    
                    <h4>Casos de Uso</h4>
                    <ul>
                        <li>Picos de latencia en producción</li>
                        <li>Fallas de capacidad</li>
                        <li>Regresiones importantes de rendimiento</li>
                        <li>Lanzamientos o eventos de alto riesgo</li>
                    </ul>

                    <h4>Modelo de Compromiso</h4>
                    <ul>
                        <li>Ejecución de equipo de nivel superior</li>
                        <li>Solo consultores experimentados</li>
                        <li>Acceso directo durante todo el compromiso</li>
                        <li>Alcance y resultados claros</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section class="why-section">
        <div class="container">
            <h2>Por Qué los Clientes Nos Contratan</h2>
            <div class="benefits-grid">
                <div class="benefit-item">
                    <div class="check"></div>
                    <h4>Riesgo de interrupción reducido</h4>
                </div>
                <div class="benefit-item">
                    <div class="check"></div>
                    <h4>Escalado de sistema predecible</h4>
                </div>
                <div class="benefit-item">
                    <div class="check"></div>
                    <h4>Costos más bajos de nube e infraestructura</h4>
                </div>
                <div class="benefit-item">
                    <div class="check"></div>
                    <h4>Claridad a nivel ejecutivo</h4>
                </div>
                <div class="benefit-item">
                    <div class="check"></div>
                    <h4>Crecimiento más rápido y seguro</h4>
                </div>
            </div>
        </div>
    </section>

    <section class="technical-section" id="outcomes">
        <div class="container">
            <h2>Resultados Representativos</h2>
            <p class="intro-text">
                Nuestro equipo ha entregado mejoras medibles en entornos empresariales.
            </p>
            <div class="tech-grid">
                <div class="tech-card">
                    <h4>Mejoras de Rendimiento</h4>
                    <ul>
                        <li>Latencia de carga máxima reducida en 40–70% en entornos empresariales</li>
                        <li>Rendimiento y estabilidad mejorados sin aumentar la huella de infraestructura</li>
                        <li>Incidentes relacionados con escala prevenidos durante eventos de crecimiento y demanda de alto riesgo</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>Eficiencia de Infraestructura</h4>
                    <ul>
                        <li>Ineficiencia de infraestructura del 30%+ identificada en sistemas de nube híbrida</li>
                        <li>Planificación de capacidad y asignación de recursos de tamaño adecuado</li>
                        <li>Políticas de autoescalado optimizadas para costos predecibles</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>Mitigación de Riesgos</h4>
                    <ul>
                        <li>Margen de capacidad cuantificado para planificación de crecimiento</li>
                        <li>Umbrales de escalado predecibles y líneas base de rendimiento</li>
                        <li>Identificación y resolución proactiva de cuellos de botella</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section class="technical-section">
        <div class="container">
            <h2>Acerca del Equipo</h2>
            <p class="intro-text">
                KPI99 opera como una práctica de consultoría enfocada que ofrece experiencia en ingeniería de rendimiento de nivel superior.
            </p>
            <p class="intro-text" style="margin-top: 20px;">
                Los compromisos son dirigidos por ingenieros experimentados con antecedentes empresariales, garantizando acceso directo a capacidad técnica profunda sin la sobrecarga de grandes equipos de consultoría.
            </p>
        </div>
    </section>

    <section class="different-section">
        <div class="container">
            <h2>Modelo de Entrega Listo para Socios</h2>
            <p class="intro-text" style="color: #334155;">
                KPI99 apoya regularmente a los socios de entrega proporcionando experiencia especializada en rendimiento y capacidad durante iniciativas de alto impacto.
            </p>
            <p class="intro-text" style="color: #334155; margin-top: 20px;">
                Nuestro papel es reducir el riesgo de entrega, fortalecer los resultados y aumentar la confianza durante migraciones, eventos de escala y programas sensibles al rendimiento.
            </p>
        </div>
    </section>

    <section class="contact-section" id="contact">
        <div class="container">
            <h2>Solicitar una Evaluación</h2>
            <p class="intro-text" style="text-align: center; margin-bottom: 30px; color: #475569;">
                Póngase en contacto para discutir sus necesidades de ingeniería de rendimiento. Nuestro equipo revisará sus requisitos y proporcionará una evaluación personalizada de cómo podemos ayudar a optimizar sus sistemas.
            </p>
            <div class="contact-form-container">
                <form id="contactForm">
                    <!-- Hidden field for recipient email -->
                    <input type="hidden" name="to_email" value="admin@kpi99.co">
                    <input type="hidden" name="to_name" value="KPI99 Team">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="name">Nombre <span class="required">*</span></label>
                            <input type="text" id="name" name="from_name" placeholder="Su nombre completo" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Correo electrónico <span class="required">*</span></label>
                            <input type="email" id="email" name="from_email" placeholder="su.correo@ejemplo.com" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="company">Empresa</label>
                            <input type="text" id="company" name="company" placeholder="Nombre de su empresa">
                        </div>
                        <div class="form-group">
                            <label for="service">Interés en Servicio</label>
                            <select id="service" name="service_interest">
                                <option value="">Seleccione un servicio...</option>
                                <option value="audit">Auditoría de Salud de Rendimiento</option>
                                <option value="optimization">Optimización de Escala y Latencia</option>
                                <option value="retainer">Retención de Rendimiento Ejecutivo</option>
                                <option value="incident">Soporte de Incidentes y Emergencias</option>
                                <option value="other">Otro / Consulta General</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="message">Mensaje <span class="required">*</span></label>
                        <textarea id="message" name="message" placeholder="Cuéntenos sobre sus desafíos de rendimiento, limitaciones actuales del sistema o áreas específicas donde le gustaría una evaluación..." required></textarea>
                    </div>
                    <button type="submit" class="submit-button">Solicitar Evaluación</button>
                    <div class="form-message" id="formMensaje"></div>
                </form>
            </div>
            
            <div class="whatsapp-divider">
                <span>O contáctenos directamente</span>
            </div>
            
            <div style="text-align: center;">
                <a href="https://wa.me/14702304510" class="whatsapp-button" target="_blank" rel="noopener noreferrer">
                    <svg viewBox="0 0 24 24" xmlns="https://www.w3.org/2000/svg">
                        <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
                    </svg>
                    <span>Chatear en WhatsApp</span>
                </a>
            </div>
        </div>
    </section>

    <!-- AI Chat Widget -->
    <div class="ai-chat-widget">
        <button class="ai-chat-button" id="aiChatButton" aria-label="Abrir chat de IA">
            <svg viewBox="0 0 24 24" xmlns="https://www.w3.org/2000/svg">
                <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/>
                <path d="M7 9h2v2H7zm4 0h2v2h-2zm4 0h2v2h-2z"/>
            </svg>
        </button>
        <div class="ai-chat-container" id="aiChatContainer">
            <div class="ai-chat-header">
                <div>
                    <h3>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="display: inline-block; vertical-align: middle;">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                        Asistente de IA
                    </h3>
                    <div class="status">En línea • Listo para ayudar</div>
                </div>
                <button class="ai-chat-close" id="aiChatClose" aria-label="Cerrar chat">×</button>
            </div>
            <div class="ai-chat-messages" id="aiChatMensajes">
                <div class="ai-chat-message ai">
                    <div class="ai-chat-message-avatar">AI</div>
                    <div class="ai-chat-message-content">
                        ¡Hola! Soy su asistente de IA. ¿Cómo puedo ayudarle con los servicios de ingeniería de rendimiento hoy?
                    </div>
                </div>
            </div>
            <div class="ai-chat-input-container">
                <input type="text" class="ai-chat-input" id="aiChatInput" placeholder="Escriba su mensaje..." autocomplete="off">
                <button class="ai-chat-send" id="aiChatSend" aria-label="Enviar mensaje">
                    <svg viewBox="0 0 24 24" xmlns="https://www.w3.org/2000/svg">
                        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Floating WhatsApp Button -->
    <a href="https://wa.me/14702304510" class="whatsapp-float" target="_blank" rel="noopener noreferrer" aria-label="Contáctenos en WhatsApp">
        <svg viewBox="0 0 24 24" xmlns="https://www.w3.org/2000/svg">
            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
        </svg>
    </a>

    <!-- Calendly Overlay -->
    <div class="calendly-overlay" id="calendlyOverlay">
        <div class="calendly-container">
            <button class="calendly-close" id="calendlyClose" aria-label="Cerrar calendario">×</button>
            <div class="calendly-inline-widget" data-url="https://calendly.com/admin-kpi99/30min" style="min-width:320px;height:100%;"></div>
        </div>
    </div>

    <!-- Calendly script -->
    <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>

    <footer>
        <div class="container">
            <p style="margin-bottom: 15px; font-style: italic; opacity: 0.9;">Las fallas de rendimiento son riesgos comerciales — hasta que se diseñan.</p>
            <p>&copy; 2026 KPI99 LLC. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script>
        // Smooth scroll and intersection observer for animations
        document.addEventListener('DOMContentLoaded', function() {
            // Navigation scroll effect
            const nav = document.createElement('nav');
            nav.innerHTML = `
                <div class="container">
                    <div class="logo">
                        <a href="/es/"><img src="../menu_logo.png" alt="KPI99" /></a>
                    </div>
                    <div class="nav-right">
                        <a href="/en/" class="language-toggle mobile-language-toggle">English</a>
                        <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Alternar menú">☰</button>
                    </div>
                    <ul id="navMenu">
                        <li><a href="#who">Quiénes</a></li>
                        <li><a href="#services">Servicios</a></li>
                        <li><a href="#expertise">Experiencia</a></li>
                        <li><a href="#outcomes">Resultados</a></li>
                        <li><a href="#contact">Contacto</a></li>
                        <li class="nav-divider"></li>
                        <li><a href="/en/" class="language-toggle desktop-language-toggle">English</a></li>
                    </ul>
                </div>
            `;
            document.body.insertBefore(nav, document.body.firstChild);

            // Save language preference when language toggle is clicked
            const languageToggles = nav.querySelectorAll('.language-toggle');
            languageToggles.forEach(toggle => {
                toggle.addEventListener('click', function(e) {
                    // Save preference to localStorage
                    localStorage.setItem('preferredLanguage', 'en');
                });
            });

            // Add IDs to sections for navigation (if not already set in HTML)
            const whoSection = document.querySelector('.who-section');
            const servicesSection = document.querySelector('.services-section');
            const expertiseSection = document.querySelector('.expertise-section');
            // Find outcomes section by heading text if ID not already set
            let outcomesSection = document.querySelector('#outcomes');
            if (!outcomesSection) {
                const outcomesHeading = Array.from(document.querySelectorAll('h2')).find(h2 => h2.textContent.includes('Resultados Representativos'));
                outcomesSection = outcomesHeading ? outcomesHeading.closest('.technical-section') : null;
            }
            const contactSection = document.querySelector('.contact-section');
            
            if (whoSection && !whoSection.id) whoSection.id = 'who';
            if (servicesSection && !servicesSection.id) servicesSection.id = 'services';
            if (expertiseSection && !expertiseSection.id) expertiseSection.id = 'expertise';
            if (outcomesSection && !outcomesSection.id) outcomesSection.id = 'outcomes';
            if (contactSection && !contactSection.id) contactSection.id = 'contact';

            // Nav scroll effect
            window.addEventListener('scroll', function() {
                if (window.scrollY > 50) {
                    nav.classList.add('scrolled');
                } else {
                    nav.classList.remove('scrolled');
                }
            });

            // Mobile menu toggle
            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const navMenu = document.getElementById('navMenu');
            
            if (mobileMenuToggle && navMenu) {
                // Set initial aria-expanded state
                mobileMenuToggle.setAttribute('aria-expanded', 'false');
                
                mobileMenuToggle.addEventListener('click', function() {
                    const isActive = navMenu.classList.toggle('active');
                    this.textContent = isActive ? '✕' : '☰';
                    this.setAttribute('aria-expanded', isActive ? 'true' : 'false');
                });

                // Close menu when clicking on a link
                navMenu.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', function() {
                        navMenu.classList.remove('active');
                        mobileMenuToggle.textContent = '☰';
                        mobileMenuToggle.setAttribute('aria-expanded', 'false');
                    });
                });

                // Close menu when clicking outside
                document.addEventListener('click', function(e) {
                    if (!nav.contains(e.target) && navMenu.classList.contains('active')) {
                        navMenu.classList.remove('active');
                        mobileMenuToggle.textContent = '☰';
                        mobileMenuToggle.setAttribute('aria-expanded', 'false');
                    }
                });
            }

            // Intersection Observer for scroll animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver(function(entries) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        
                        // Animate children with stagger
                        const children = entry.target.querySelectorAll('.impact-item, .approach-item, .service-card, .benefit-item, .process-step, .tech-card, .expertise-tag');
                        children.forEach((child, index) => {
                            setTimeout(() => {
                                child.style.opacity = '0';
                                child.style.transform = 'translateY(20px)';
                                child.style.transition = 'all 0.5s ease';
                                
                                setTimeout(() => {
                                    child.style.opacity = '1';
                                    child.style.transform = 'translateY(0)';
                                }, 50);
                            }, index * 100);
                        });
                    }
                });
            }, observerOptions);

            // Observe all sections
            document.querySelectorAll('section').forEach(section => {
                observer.observe(section);
            });

            // Smooth scroll for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        const offsetTop = target.offsetTop - 80;
                        window.scrollTo({
                            top: offsetTop,
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // Parallax effect for header (optional - can be disabled if causing issues)
            // window.addEventListener('scroll', function() {
            //     const scrolled = window.pageYOffset;
            //     const header = document.querySelector('header');
            //     if (header) {
            //         header.style.transform = `translateY(${scrolled * 0.5}px)`;
            //         header.style.opacity = 1 - (scrolled / 500);
            //     }
            // });

            // Interactive service cards - add click ripple effect
            document.querySelectorAll('.service-card, .impact-item, .approach-item, .benefit-item').forEach(card => {
                card.addEventListener('click', function(e) {
                    const ripple = document.createElement('span');
                    const rect = this.getBoundingClientRect();
                    const size = Math.max(rect.width, rect.height);
                    const x = e.clientX - rect.left - size / 2;
                    const y = e.clientY - rect.top - size / 2;
                    
                    ripple.style.width = ripple.style.height = size + 'px';
                    ripple.style.left = x + 'px';
                    ripple.style.top = y + 'px';
                    ripple.classList.add('ripple');
                    
                    this.appendChild(ripple);
                    
                    setTimeout(() => {
                        ripple.remove();
                    }, 600);
                });
            });

            // Add ripple effect styles
            const style = document.createElement('style');
            style.textContent = `
                .ripple {
                    position: absolute;
                    border-radius: 50%;
                    background: rgba(59, 130, 246, 0.3);
                    transform: scale(0);
                    animation: ripple-animation 0.6s ease-out;
                    pointer-events: none;
                }
                
                @keyframes ripple-animation {
                    to {
                        transform: scale(2);
                        opacity: 0;
                    }
                }
            `;
            document.head.appendChild(style);

            // Calendly consultation booking
            const consultationButtonHeader = document.getElementById('consultationButtonHeader');
            const calendlyOverlay = document.getElementById('calendlyOverlay');
            const calendlyClose = document.getElementById('calendlyClose');

            if (consultationButtonHeader && calendlyOverlay) {
                consultationButtonHeader.addEventListener('click', function(e) {
                    e.preventDefault();
                    calendlyOverlay.classList.add('active');
                    document.body.style.overflow = 'hidden'; // Prevent background scrolling
                });

                if (calendlyClose) {
                    calendlyClose.addEventListener('click', function() {
                        calendlyOverlay.classList.remove('active');
                        document.body.style.overflow = ''; // Restore scrolling
                    });
                }

                // Close when clicking outside the calendar
                calendlyOverlay.addEventListener('click', function(e) {
                    if (e.target === calendlyOverlay) {
                        calendlyOverlay.classList.remove('active');
                        document.body.style.overflow = '';
                    }
                });

                // Close on Escape key
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape' && calendlyOverlay.classList.contains('active')) {
                        calendlyOverlay.classList.remove('active');
                        document.body.style.overflow = '';
                    }
                });
            }

            // Contact form handling with Correo electrónicoJS
            const contactForm = document.getElementById('contactForm');
            const formMensaje = document.getElementById('formMensaje');

            if (contactForm) {
                contactForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const submitButton = contactForm.querySelector('.submit-button');
                    
                    // Check if Correo electrónicoJS is loaded, and try to initialize if not
                    console.log('Checking Correo electrónicoJS availability...');
                    console.log('typeof emailjs:', typeof emailjs);
                    console.log('window.emailjsReady:', window.emailjsReady);
                    
                    if (typeof emailjs === 'undefined') {
                        console.error('Correo electrónicoJS library is not loaded');
                        console.log('Attempting to wait for Correo electrónicoJS...');
                        
                        // Wait a bit and try again
                        setTimeout(function() {
                            if (typeof emailjs === 'undefined') {
                                submitButton.disabled = false;
                                submitButton.textContent = translate('contact.submit');
                                if (formMensaje) {
                                    formMensaje.textContent = 'El servicio de correo electrónico no está disponible. Por favor actualice la página e intente nuevamente.';
                                    formMensaje.classNombre = 'form-message error';
                                    formMensaje.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                                }
                            } else {
                                // Retry submission
                                contactForm.dispatchEvent(new Event('submit'));
                            }
                        }, 500);
                        return;
                    }
                    
                    // Try to initialize if not already initialized
                    if (!window.emailjsReady) {
                        try {
                            console.log('Initializing Correo electrónicoJS on form submit...');
                            emailjs.init("C72iqShn4JvJqqQpb");
                            window.emailjsReady = true;
                            console.log('Correo electrónicoJS initialized on form submit');
                        } catch (error) {
                            console.error('Correo electrónicoJS initialization failed:', error);
                            submitButton.disabled = false;
                            submitButton.textContent = 'Solicitar Evaluación';
                            if (formMensaje) {
                                formMensaje.textContent = 'La inicialización del servicio de correo electrónico falló. Por favor actualice la página e intente nuevamente.';
                                formMensaje.classNombre = 'form-message error';
                                formMensaje.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                            }
                            return;
                        }
                    }
                    
                    console.log('Correo electrónicoJS is ready, proceeding with form submission');
                    
                    // Disable submit button
                    submitButton.disabled = true;
                    submitButton.textContent = translate('contact.sending');
                    
                    // Clear any previous messages
                    if (formMensaje) {
                        formMensaje.textContent = '';
                        formMensaje.classNombre = 'form-message';
                    }
                    
                    // Validate required fields
                    const nameField = contactForm.querySelector('#name');
                    const emailField = contactForm.querySelector('#email');
                    const messageField = contactForm.querySelector('#message');
                    
                    if (!nameField.value.trim() || !emailField.value.trim() || !messageField.value.trim()) {
                        submitButton.disabled = false;
                        submitButton.textContent = 'Solicitar Evaluación';
                        if (formMensaje) {
                            formMensaje.textContent = 'Por favor complete todos los campos requeridos.';
                            formMensaje.classNombre = 'form-message error';
                        }
                        return;
                    }
                    
                    // Prepare email parameters
                    const templateParams = {
                        from_name: nameField.value.trim(),
                        from_email: emailField.value.trim(),
                        company: contactForm.querySelector('#company').value.trim() || 'Not provided',
                        service_interest: contactForm.querySelector('#service').value || 'Not specified',
                        message: messageField.value.trim(),
                        to_name: 'KPI99 Team',
                        to_email: 'admin@kpi99.co'
                    };
                    
                    console.log('Sending email with params:', templateParams);
                    console.log('Correo electrónicoJS service ID: service_i1lgkqf');
                    console.log('Correo electrónicoJS template ID: template_mzvfeg7');
                    
                    // Set a timeout to prevent infinite "sending" state
                    const timeoutId = setTimeout(function() {
                        submitButton.disabled = false;
                        submitButton.textContent = 'Solicitar Evaluación';
                        if (formMensaje) {
                            formMensaje.textContent = 'La solicitud expiró. Por favor verifique su conexión e intente nuevamente.';
                            formMensaje.classNombre = 'form-message error';
                            formMensaje.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                        }
                        console.error('Correo electrónicoJS request timed out');
                    }, 30000); // 30 second timeout
                    
                    // Send email using Correo electrónicoJS - try sendForm first (works better with Gmail API)
                    // Make sure form field names match your Correo electrónicoJS template variables
                    const sendPromise = (typeof emailjs.sendForm !== 'undefined') 
                        ? emailjs.sendForm('service_i1lgkqf', 'template_mzvfeg7', contactForm)
                        : emailjs.send('service_i1lgkqf', 'template_mzvfeg7', templateParams);
                    
                    sendPromise
                        .then(function(response) {
                            clearTimeout(timeoutId);
                            
                            console.log('Correo electrónicoJS success response:', response);
                            
                            // Success
                            contactForm.reset();
                            
                            if (formMensaje) {
                                formMensaje.textContent = translate('contact.success');
                                formMensaje.classNombre = 'form-message success';
                                
                                setTimeout(() => {
                                    formMensaje.classNombre = 'form-message';
                                }, 5000);
                                
                                formMensaje.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                            }
                            
                            submitButton.disabled = false;
                            submitButton.textContent = 'Solicitar Evaluación';
                        })
                        .catch(function(error) {
                            clearTimeout(timeoutId);
                            
                            console.error('Correo electrónicoJS error:', error);
                            console.error('Error status:', error?.status);
                            console.error('Error text:', error?.text);
                            console.error('Full error object:', JSON.stringify(error, null, 2));
                            
                            // Error
                            let errorMensaje = translate('contact.error');
                            
                            if (error?.text) {
                                errorMensaje += ' Error: ' + error.text;
                            } else if (error?.message) {
                                errorMensaje += ' Error: ' + error.message;
                            }
                            
                            if (formMensaje) {
                                formMensaje.textContent = errorMensaje;
                                formMensaje.classNombre = 'form-message error';
                                
                                setTimeout(() => {
                                    formMensaje.classNombre = 'form-message';
                                }, 5000);
                                
                                formMensaje.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                            }
                            
                            submitButton.disabled = false;
                            submitButton.textContent = 'Solicitar Evaluación';
                        });
                });

                // Add input validation styling
                const inputs = contactForm.querySelectorAll('input, textarea, select');
                inputs.forEach(input => {
                    input.addEventListener('blur', function() {
                        if (this.hasAttribute('required') && !this.value.trim()) {
                            this.style.borderColor = '#ef4444';
                        } else {
                            this.style.borderColor = '#e2e8f0';
                        }
                    });

                    input.addEventListener('input', function() {
                        if (this.style.borderColor === 'rgb(239, 68, 68)') {
                            if (this.value.trim()) {
                                this.style.borderColor = '#e2e8f0';
                            }
                        }
                    });
                });
            }

            // AI Chat Widget Functionality
            const aiChatButton = document.getElementById('aiChatButton');
            const aiChatContainer = document.getElementById('aiChatContainer');
            const aiChatClose = document.getElementById('aiChatClose');
            const aiChatInput = document.getElementById('aiChatInput');
            const aiChatSend = document.getElementById('aiChatSend');
            const aiChatMensajes = document.getElementById('aiChatMensajes');

            // Function to open chat
            function openChat() {
                if (aiChatContainer && !aiChatContainer.classList.contains('active')) {
                    aiChatContainer.classList.add('active');
                    if (aiChatInput) {
                        aiChatInput.focus();
                    }
                }
            }

            // Toggle chat
            if (aiChatButton && aiChatContainer) {
                aiChatButton.addEventListener('click', function() {
                    aiChatContainer.classList.toggle('active');
                    if (aiChatContainer.classList.contains('active')) {
                        aiChatInput.focus();
                        // Mark that user has interacted with chat
                        localStorage.setItem('aiChatUserInteracted', 'true');
                    }
                });

                aiChatClose.addEventListener('click', function() {
                    aiChatContainer.classList.remove('active');
                    // Mark that user closed the chat
                    localStorage.setItem('aiChatClosed', 'true');
                });

                // Auto-open chat after delay
                // Check if user has previously closed it or interacted
                const chatClosed = localStorage.getItem('aiChatClosed');
                const userInteracted = localStorage.getItem('aiChatUserInteracted');
                
                // Only auto-open if user hasn't closed it before
                if (!chatClosed && !userInteracted) {
                    // Wait for page to fully load, then wait additional time
                    let autoOpenTimer;
                    
                    // Open after user has been on page for 5 seconds
                    // and has scrolled at least a bit (showing engagement)
                    let hasScrolled = false;
                    let scrollTimer;
                    
                    window.addEventListener('scroll', function() {
                        if (!hasScrolled && window.scrollY > 100) {
                            hasScrolled = true;
                            clearTimeout(scrollTimer);
                            
                            // Open chat 3 seconds after user starts scrolling
                            scrollTimer = setTimeout(function() {
                                if (!aiChatContainer.classList.contains('active')) {
                                    openChat();
                                }
                            }, 3000);
                        }
                    }, { once: false });
                    
                    // Also open after 8 seconds regardless of scroll (fallback)
                    autoOpenTimer = setTimeout(function() {
                        if (!hasScrolled && !aiChatContainer.classList.contains('active')) {
                            openChat();
                        }
                    }, 8000);
                    
                    // Clear timer if user manually opens chat
                    aiChatButton.addEventListener('click', function() {
                        clearTimeout(autoOpenTimer);
                        clearTimeout(scrollTimer);
                    }, { once: true });
                }

                // Send message function
                function sendMensaje() {
                    const message = aiChatInput.value.trim();
                    if (!message) return;

                    // Add user message
                    addMensaje(message, 'user');
                    aiChatInput.value = '';
                    aiChatSend.disabled = true;

                    // Show typing indicator
                    showTypingIndicator();

                    // Simulate AI response (replace with actual AI API call)
                    setTimeout(() => {
                        hideTypingIndicator();
                        const response = generateAIResponse(message);
                        addMensaje(response, 'ai');
                        aiChatSend.disabled = false;
                        aiChatInput.focus();
                    }, 1000 + Math.random() * 1000);
                }

                // Add message to chat
                function addMensaje(text, sender) {
                    const messageDiv = document.createElement('div');
                    messageDiv.classNombre = `ai-chat-message ${sender}`;
                    
                    const avatar = document.createElement('div');
                    avatar.classNombre = 'ai-chat-message-avatar';
                    avatar.textContent = sender === 'ai' ? 'IA' : 'Tú';
                    
                    const content = document.createElement('div');
                    content.classNombre = 'ai-chat-message-content';
                    content.textContent = text;
                    
                    messageDiv.appendChild(avatar);
                    messageDiv.appendChild(content);
                    aiChatMensajes.appendChild(messageDiv);
                    
                    // Scroll to bottom
                    aiChatMensajes.scrollTop = aiChatMensajes.scrollHeight;
                }

                // Show typing indicator
                function showTypingIndicator() {
                    const typingDiv = document.createElement('div');
                    typingDiv.classNombre = 'ai-chat-message ai';
                    typingDiv.id = 'typingIndicator';
                    
                    const avatar = document.createElement('div');
                    avatar.classNombre = 'ai-chat-message-avatar';
                    avatar.textContent = 'AI';
                    
                    const typing = document.createElement('div');
                    typing.classNombre = 'ai-typing-indicator';
                    typing.innerHTML = '<span></span><span></span><span></span>';
                    
                    typingDiv.appendChild(avatar);
                    typingDiv.appendChild(typing);
                    aiChatMensajes.appendChild(typingDiv);
                    aiChatMensajes.scrollTop = aiChatMensajes.scrollHeight;
                }

                // Hide typing indicator
                function hideTypingIndicator() {
                    const indicator = document.getElementById('typingIndicator');
                    if (indicator) {
                        indicator.remove();
                    }
                }

                // Generate AI response (replace with actual AI API integration)
                function generateAIResponse(userMensaje) {
                    const message = userMensaje.toLowerCase();
                    
                    // Simple keyword-based responses (replace with actual AI API)
                    if (message.includes('service') || message.includes('servicio') || message.includes('package') || message.includes('paquete') || message.includes('pricing') || message.includes('precio')) {
                        return "Ofrecemos varios paquetes de servicios: Auditoría de Salud de Rendimiento ($10,000), Optimización de Escala y Latencia ($30,000-$50,000), Retención de Rendimiento Ejecutivo ($6,000-$12,000/mes), y Soporte de Incidentes y Emergencias ($350-$500/hora). ¿Cuál le interesa?";
                    } else if (message.includes('performance') || message.includes('rendimiento') || message.includes('optimization') || message.includes('optimización')) {
                        return "Nuestros servicios de ingeniería de rendimiento se centran en enfoques predictivos y preventivos. Identificamos límites del sistema, cuantificamos el riesgo, reducimos el desperdicio de infraestructura y aseguramos un escalado predecible. ¿Qué desafíos específicos de rendimiento está enfrentando?";
                    } else if (message.includes('contact') || message.includes('contacto') || message.includes('reach') || message.includes('contactar') || message.includes('email') || message.includes('correo')) {
                        return "Puede contactarnos a través del formulario de contacto en esta página, o vía WhatsApp usando el botón en la parte inferior derecha. Normalmente respondemos en 24 horas.";
                    } else if (message.includes('hello') || message.includes('hola') || message.includes('hi') || message.includes('hey')) {
                        return "¡Hola! Estoy aquí para ayudarle a conocer nuestros servicios de ingeniería de rendimiento. ¿Qué le gustaría saber?";
                    } else if (message.includes('help') || message.includes('ayuda') || message.includes('ayudar')) {
                        return "Puedo ayudarle a conocer nuestros servicios, precios, experiencia técnica, o conectarlo con nuestro equipo. ¿Sobre qué le gustaría saber más?";
                    } else {
                        return "¡Esa es una excelente pregunta! Nuestros servicios de ingeniería de rendimiento ayudan a las organizaciones a optimizar sus sistemas para escala, confiabilidad y eficiencia de costos. ¿Le gustaría saber más sobre nuestros paquetes de servicios, o tiene un desafío específico de rendimiento que está enfrentando?";
                    }
                }

                // Send button click
                aiChatSend.addEventListener('click', sendMensaje);

                // Enter key to send
                aiChatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        sendMensaje();
                    }
                });

                // Enable/disable send button based on input
                aiChatInput.addEventListener('input', function() {
                    aiChatSend.disabled = !this.value.trim();
                });
            }
        });
    </script>
</body>
</html>
